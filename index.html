<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>darmarket2 - Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠ Ø§Ù„Ù…ØºØ±Ø¨ÙŠ</title>
    
    <!-- PWA -->
    <meta name="theme-color" content="#1abc9c">
    <link rel="manifest" href="/Darmarket/manifest.json">
    
    <!-- Favicon -->
    <link rel="icon" href="https://i.ibb.co/SwVN7NNf/logo.png">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { background: #f5f5f5; color: #333; line-height: 1.6; }
        
        /* Ø§Ù„ØªÙ†Ù‚Ù„ */
        nav { background: #2c3e50; padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 100; }
        .logo-container { display: flex; align-items: center; gap: 15px; text-decoration: none; }
        .logo-image { height: 50px; border-radius: 8px; }
        .brand-name { font-size: 1.5rem; color: #1abc9c; font-weight: bold; }
        .nav-links { display: flex; list-style: none; gap: 1.5rem; }
        .nav-links a { color: white; text-decoration: none; padding: 5px 10px; }
        .nav-links a:hover { color: #1abc9c; }
        
        /* Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
        section { max-width: 1200px; margin: 1rem auto; background: white; padding: 2rem; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .hero { background: linear-gradient(rgba(44,62,80,0.9), rgba(44,62,80,0.9)); color: white; text-align: center; padding: 4rem 2rem; margin-top: 0; }
        h1 { font-size: 2.2rem; margin-bottom: 1rem; }
        h2 { color: #2c3e50; border-bottom: 2px solid #1abc9c; padding-bottom: 10px; margin-bottom: 1.5rem; }
        
        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        .cta-button { display: inline-block; background: #1abc9c; color: white; padding: 12px 30px; text-decoration: none; border-radius: 5px; margin-top: 1rem; font-weight: bold; }
        button { background: #2c3e50; color: white; border: none; padding: 12px 24px; border-radius: 5px; cursor: pointer; font-size: 1rem; }
        button:hover { background: #1a252f; }
        
        /* Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ */
        .search-form, .add-listing-form { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-top: 1.5rem; }
        .form-group { display: flex; flex-direction: column; }
        input, select, textarea { padding: 10px; border: 1px solid #ddd; border-radius: 5px; margin-top: 5px; }
        
        /* Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª */
        .listings-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-top: 1.5rem; }
        .property-card { border: 1px solid #eee; border-radius: 8px; overflow: hidden; }
        .property-image { height: 180px; background: #f0f0f0; display: flex; align-items: center; justify-content: center; color: #666; }
        .property-details { padding: 1.2rem; }
        .property-price { color: #e74c3c; font-size: 1.3rem; font-weight: bold; margin: 10px 0; }
        
        /* Footer */
        footer { background: #2c3e50; color: white; text-align: center; padding: 2rem; margin-top: 2rem; }
        
        /* Ù…ØªØ¬Ø§ÙˆØ¨ */
        @media (max-width: 768px) {
            nav { flex-direction: column; gap: 1rem; }
            .nav-links { flex-wrap: wrap; justify-content: center; }
            section { margin: 1rem; padding: 1.5rem; }
        }
        
        /* Ø²Ø± Ø­Ø°Ù Ø£Ø­Ù…Ø± */
        .delete-btn { background: #e74c3c !important; padding: 6px 12px !important; font-size: 0.9rem !important; }
        .delete-btn:hover { background: #c0392b !important; }
    </style>
</head>
<body>
    <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ -->
    <nav>
        <a href="#home" class="logo-container">
            <img src="https://i.ibb.co/SwVN7NNf/logo.png" alt="Ø´Ø¹Ø§Ø± darmarket2" class="logo-image">
            <span class="brand-name">darmarket2</span>
        </a>
        <ul class="nav-links">
            <li><a href="#home">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
            <li><a href="#add-listing">â• Ø¥Ø¶Ø§ÙØ© Ø¹Ù‚Ø§Ø±</a></li>
            <li><a href="#listings">ğŸ“‹ Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</a></li>
            <li><a href="#contact">ğŸ“ Ø§ØªØµÙ„ Ø¨Ù†Ø§</a></li>
        </ul>
    </nav>
    
    <!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <section id="home" class="hero">
        <h1>Ø§Ø¨Ø­Ø« Ø¹Ù† Ø¹Ù‚Ø§Ø±Ùƒ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ Ø§Ù„ÙŠÙˆÙ… ÙÙŠ Ø§Ù„Ù…ØºØ±Ø¨</h1>
        <p>Ø£ÙƒØ¨Ø± Ø³ÙˆÙ‚ Ø¹Ù‚Ø§Ø±ÙŠ Ù…ØºØ±Ø¨ÙŠ - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø¨Ø§Ù„Ø¯Ø±Ù‡Ù… Ø§Ù„Ù…ØºØ±Ø¨ÙŠ ğŸ’°</p>
        <a href="#listings" class="cta-button">ØªØµÙØ­ Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª</a>
    </section>
    
    <!-- Ø§Ù„Ø¨Ø­Ø« -->
    <section id="search">
        <h2>ğŸ” Ø§Ø¨Ø­Ø« Ø¹Ù† Ø¹Ù‚Ø§Ø±</h2>
        <form class="search-form" id="propertySearchForm">
            <div class="form-group">
                <label>Ù†ÙˆØ¹ Ø§Ù„ØµÙÙ‚Ø©</label>
                <select id="dealType">
                    <option value="">Ø§Ù„ÙƒÙ„</option>
                    <option value="Ø¨ÙŠØ¹">Ø¨ÙŠØ¹</option>
                    <option value="Ø¥ÙŠØ¬Ø§Ø±">Ø¥ÙŠØ¬Ø§Ø±</option>
                </select>
            </div>
            <div class="form-group">
                <label>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</label>
                <input type="text" id="location" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©">
            </div>
            <button type="submit">ğŸ” Ø¨Ø­Ø«</button>
        </form>
    </section>
    
    <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª -->
    <section id="listings">
        <h2>ğŸ¡ Ø¹Ù‚Ø§Ø±Ø§Øª Ù…Ù…ÙŠØ²Ø©</h2>
        <div class="listings-container" id="listingsContainer">
            <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡ Ø¨Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª -->
        </div>
    </section>
    
    <!-- Ø¥Ø¶Ø§ÙØ© Ø¹Ù‚Ø§Ø± -->
    <section id="add-listing">
        <h2>ğŸ“ Ø£Ø¶Ù Ø¹Ù‚Ø§Ø±Ùƒ</h2>
        <form class="add-listing-form" id="addPropertyForm">
            <div class="form-group">
                <label>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ù‚Ø§Ø±</label>
                <input type="text" id="propertyTitle" placeholder="Ù…Ø«Ø§Ù„: ÙÙŠÙ„Ø§ ÙÙŠ Ù…Ø±Ø§ÙƒØ´" required>
            </div>
            <div class="form-group">
                <label>Ù†ÙˆØ¹ Ø§Ù„ØµÙÙ‚Ø©</label>
                <select id="propertyDealType" required>
                    <option value="">Ø§Ø®ØªØ±</option>
                    <option value="Ø¨ÙŠØ¹">Ø¨ÙŠØ¹</option>
                    <option value="Ø¥ÙŠØ¬Ø§Ø±">Ø¥ÙŠØ¬Ø§Ø±</option>
                </select>
            </div>
            <div class="form-group">
                <label>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</label>
                <input type="text" id="propertyLocation" placeholder="Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©" required>
            </div>
            <div class="form-group">
                <label>Ø§Ù„Ø³Ø¹Ø± (Ø¯.Ù….)</label>
                <input type="number" id="propertyPrice" placeholder="Ø§Ù„Ø³Ø¹Ø±" required>
            </div>
            <div class="form-group" style="grid-column: 1/-1;">
                <label>Ø§Ù„ÙˆØµÙ</label>
                <textarea id="propertyDescription" rows="3" placeholder="ÙˆØµÙ Ø§Ù„Ø¹Ù‚Ø§Ø±..." required></textarea>
            </div>
            <div class="form-group" style="grid-column: 1/-1;">
                <label>ğŸ“· ØµÙˆØ±Ø© Ø§Ù„Ø¹Ù‚Ø§Ø± (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                <input type="file" id="propertyImages" accept="image/*">
                <small style="color: #666;">ÙŠÙ…ÙƒÙ†Ùƒ Ø±ÙØ¹ ØµÙˆØ±Ø© ÙˆØ§Ø­Ø¯Ø©</small>
            </div>
            <button type="submit" style="grid-column: 1/-1; background: #e67e22;">âœ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù‚Ø§Ø±</button>
        </form>
    </section>
    
    <!-- Ø§ØªØµÙ„ Ø¨Ù†Ø§ -->
    <section id="contact">
        <h2>ğŸ“ Ø§ØªØµÙ„ Ø¨Ù†Ø§</h2>
        <p>ğŸ“± Ø§Ù„Ù‡Ø§ØªÙ: +212 612 345 678</p>
        <p>ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø´Ø®ØµÙŠ: imadxhabja@gmail.com</p>
        <p>ğŸ“ Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡ØŒ Ø§Ù„Ù…ØºØ±Ø¨</p>
        
        <div style="margin-top: 1.5rem;">
            <a href="https://wa.me/212612345678" style="background: #25D366; color: white; padding: 10px 20px; border-radius: 5px; text-decoration: none; margin: 5px; display: inline-block;">ğŸ’¬ ÙˆØ§ØªØ³Ø§Ø¨</a>
            <a href="mailto:imadxhabja@gmail.com" style="background: #d44638; color: white; padding: 10px 20px; border-radius: 5px; text-decoration: none; margin: 5px; display: inline-block;">ğŸ“© Ø¥ÙŠÙ…ÙŠÙ„</a>
        </div>
    </section>
    
    <!-- ØªØ°ÙŠÙŠÙ„ Ø§Ù„ØµÙØ­Ø© -->
    <footer>
        <p>Â© 2023 darmarket2 - Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠ Ø§Ù„Ù…ØºØ±Ø¨ÙŠ</p>
        <p style="margin-top: 10px; color: #1abc9c;">imadxhabja@gmail.com</p>
    </footer>
    
    <!-- JavaScript -->
    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª
        let properties = [
            {
                id: 1,
                title: "ÙÙŠÙ„Ø§ ÙØ§Ø®Ø±Ø© ÙÙŠ Ù…Ø±Ø§ÙƒØ´",
                description: "5 ØºØ±Ù Ù†ÙˆÙ…ØŒ Ù…Ø³Ø¨Ø­ØŒ Ø­Ø¯ÙŠÙ‚Ø© Ø®Ø§ØµØ©",
                price: 4200000,
                location: "Ù…Ø±Ø§ÙƒØ´",
                type: "Ø¨ÙŠØ¹",
                date: "16/12/2025",
                image: null
            },
            {
                id: 2,
                title: "Ø´Ù‚Ø© Ø­Ø¯ÙŠØ«Ø© ÙÙŠ Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡",
                description: "3 ØºØ±Ù Ù†ÙˆÙ…ØŒ ØµØ§Ù„Ø©ØŒ Ù…Ø·Ø¨Ø® Ù…ÙØªÙˆØ­",
                price: 12500,
                location: "Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡",
                type: "Ø¥ÙŠØ¬Ø§Ø±",
                date: "16/12/2025",
                image: null
            }
        ];
        
        // ØªØ®Ø²ÙŠÙ† Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©
        let currentImage = null;
        
        // Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©
        document.getElementById('propertyImages').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    currentImage = event.target.result;
                };
                reader.readAsDataURL(file);
            }
        });
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª
        function displayProperties() {
            const container = document.getElementById('listingsContainer');
            container.innerHTML = properties.map(property => `
                <div class="property-card" data-id="${property.id}">
                    <div class="property-image">
                        ${property.image ? 
                            `<img src="${property.image}" alt="${property.title}" style="width:100%; height:100%; object-fit:cover; border-radius: 8px 8px 0 0;">` : 
                            `<span style="font-size: 3rem;">${property.type === 'Ø¨ÙŠØ¹' ? 'ğŸ ' : 'ğŸ¢'}</span>`
                        }
                    </div>
                    <div class="property-details">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 10px;">
                            <h3 style="margin: 0;">${property.title}</h3>
                            <button onclick="deleteProperty(${property.id})" class="delete-btn">
                                ğŸ—‘ï¸ Ø­Ø°Ù
                            </button>
                        </div>
                        <p style="color: #555; margin-bottom: 10px;">${property.description}</p>
                        <div class="property-price">
                            ${property.type === 'Ø¥ÙŠØ¬Ø§Ø±' ? property.price.toLocaleString() + ' Ø¯.Ù…./Ø´Ù‡Ø±ÙŠØ§Ù‹' : property.price.toLocaleString() + ' Ø¯.Ù….'}
                        </div>
                        <div style="margin-top: 15px; display: flex; gap: 10px; flex-wrap: wrap;">
                            <span style="background: #1abc9c; color: white; padding: 3px 10px; border-radius: 15px; font-size: 0.9rem;">
                                ${property.type}
                            </span>
                            <span style="color: #666;">ğŸ“ ${property.location}</span>
                            <span style="color: #666;">ğŸ“… ${property.date}</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        // Ø­Ø°Ù Ø¹Ù‚Ø§Ø±
        function deleteProperty(id) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù‚Ø§Ø±ØŸ')) {
                properties = properties.filter(property => property.id !== id);
                displayProperties();
                alert('âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¹Ù‚Ø§Ø±');
            }
        }
        
        // Ø¥Ø¶Ø§ÙØ© Ø¹Ù‚Ø§Ø± Ø¬Ø¯ÙŠØ¯
        document.getElementById('addPropertyForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newProperty = {
                id: Date.now(),
                title: document.getElementById('propertyTitle').value,
                type: document.getElementById('propertyDealType').value,
                location: document.getElementById('propertyLocation').value,
                price: parseInt(document.getElementById('propertyPrice').value),
                description: document.getElementById('propertyDescription').value,
                date: new Date().toLocaleDateString('ar-MA'),
                image: currentImage
            };
            
            properties.unshift(newProperty);
            displayProperties();
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
            this.reset();
            currentImage = null;
            document.getElementById('propertyImages').value = '';
            
            alert('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù‚Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­!');
            
            // Ø¥Ø´Ø¹Ø§Ø± Ø¥Ø°Ø§ Ø³Ù…Ø­
            if ('Notification' in window && Notification.permission === 'granted') {
                new Notification('ğŸ  Ø¹Ù‚Ø§Ø± Ø¬Ø¯ÙŠØ¯!', {
                    body: `ØªÙ… Ø¥Ø¶Ø§ÙØ© "${newProperty.title}"`,
                    icon: 'https://i.ibb.co/SwVN7NNf/logo.png'
                });
            }
        });
        
        // Ø§Ù„Ø¨Ø­Ø«
        document.getElementById('propertySearchForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const dealType = document.getElementById('dealType').value;
            const location = document.getElementById('location').value;
            
            if (dealType || location) {
                alert(`ğŸ” Ø³ÙŠØªÙ… Ø§Ù„Ø¨Ø­Ø« Ø¹Ù†:\n${dealType ? 'Ø§Ù„Ù†ÙˆØ¹: ' + dealType + '\n' : ''}${location ? 'Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©: ' + location : ''}`);
            } else {
                alert('âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø¨Ø­Ø«');
            }
        });
        
        // ØªÙ‡ÙŠØ¦Ø©
        document.addEventListener('DOMContentLoaded', function() {
            displayProperties();
            
            // ØªØ³Ø¬ÙŠÙ„ Service Worker
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('/Darmarket/sw.js')
                    .then(() => console.log('âœ… Service Worker Ù…Ø³Ø¬Ù„'))
                    .catch(err => console.log('âŒ Ø®Ø·Ø£:', err));
            }
            
            // Ø·Ù„Ø¨ Ø¥Ø°Ù† Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
            if ('Notification' in window && Notification.permission === 'default') {
                setTimeout(() => {
                    Notification.requestPermission();
                }, 3000);
            }
        });
    </script>
</body>
            </html>
